<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>updating objects</title>
    <script src="https://unpkg.com/react@17/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
        <style media="screen">
        .modal {
        position: fixed;
        z-index: 1;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.25);
        }

        .modal_content {
        background-color: white;
        position: absolute;
        top: 20%;
        left: 30%;
        width: 40%;
        padding: 20px;
        border-radius: 5px;
        border: 2px solid black;
        }

        .close {
        color: Black;
        float: right;
        }

        .close:hover {
        color: cyan;
        cursor: pointer;
        }
    </style>

  </head>
  <body>
    <div class="container">
        <hr>
        <!-- <div class="modal" id="modal2">
             <div class="modal_content">
                <span class="close" data-bs-dismiss="modal2" >&times;</span>
                <p>this is another text from modal2</p>
            </div>
       </div>
       <button data-bs-toggle="modal" data-bs-target="#modal2">New User</button> -->

        <hr>
        <h1>popUp Object App</h1>
        <div id="app"></div>

    </div>

    <script type="text/babel">


        function PopUp(props){

            const { seen, setSeen, toogle1 } = React.useContext(toogleContext);

            function handleClick(){
                props.toogle1();
            };

            return(
                <div className="modal1" id="modal1">
                     <div className="modal_content">
                        <span className="close" data-bs-dismiss="modal1" onClick={toogle1}>&times;</span>
                        <form>
                            <input placeholder="name"/>
                            <input placeholder="key number"/>
                            <button>submit</button>
                            <button className="close" data-bs-dismiss="modal1" onClick={toogle1}>close</button>
                        </form>
                    </div>
               </div>
            )
        }

        const toogleContext = React.createContext({});

        function App(){

            const [seen, setSeen] = React.useState(false);

            function toogle1(){
                console.log(`starting toogle1 ${seen}`);
                setSeen(!seen)
                console.log(`ending toogle1 ${seen}`);
            }

            return (
                <div>
                    <toogleContext.Provider value={{ seen, setSeen, toogle1}}>
                        <div className="btn" onClick={toogle1}>
                        <button data-bs-toggle="modal1" data-bs-target="#modal1">New User</button>
                        </div>
                        { seen ? <PopUp toggle1={toogle1} /> : <h2>this is null</h2> }
                    </toogleContext.Provider>
                </div>
            )

        }




        ReactDOM.render(<App />, document.querySelector('#app'))

        // document.addEventListener("DOMContentLoaded",() => {
        //   const the_button = document.querySelector(".js-btn")
        //   the_button.addEventListener("click", handleClick)
        // })
        //
        // function handleClick(event) {
        //   const modal = document.querySelector(".modal")
        //   const closeBtn = document.querySelector(".close")
        //   modal.style.display = "block";
        //   closeBtn.addEventListener("click", () => {
        //     modal.style.display = "none";
        //   })
        // }
        //
        // myModal.addEventListener('shown.bs.modal', () => {
        //   myInput.focus()
        // })


        // function handleClick(event) {
        //   const modal = document.querySelector("#modal2")
        //   const closeBtn = document.querySelector(".close2")
        //   modal.style.display = "block";
        //   closeBtn.addEventListener("click", () => {
        //     modal.style.display = "none";
        //   })
        // }

    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  </body>
</html>
